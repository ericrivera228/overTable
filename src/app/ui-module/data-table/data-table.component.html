<div>
	<button (click)="loading = !loading" mat-flat-button color="accent">Toggle loading</button>	
</div>

<div class="data-table-wrapper mat-elevation-z8">

	<table
		*ngIf="!loading"
		mat-table
		matSort
		[dataSource]="tableData"
		[@tableFadeInOut]>

		<!-- Loop through each of the columns - create a column definition -->
		<ng-container *ngFor="let header of headers; let colIndex = index;" [matColumnDef]="header">

			<th mat-header-cell mat-sort-header *matHeaderCellDef>{{header}}</th>
			<td mat-cell *matCellDef="let row">{{row[colIndex]}}</td>

		</ng-container>

		<!-- Render the header row -->
		<tr mat-header-row *matHeaderRowDef="headers"></tr>

		<!-- Render each row in the table -->
		<tr mat-row *matRowDef="let row; columns: headers"></tr>
	  
	</table>

	<!-- Content to show while the table is loading -->
	<ot-ghost-table 
		[numberOfColumns] = "numberOfGhostColumns"
		[numberOfRows] = "numberOfGhostRows"
		*ngIf="loading">
	</ot-ghost-table>

</div>
